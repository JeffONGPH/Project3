{"version":3,"sources":["actions/authenticate.js","reducers/userAuthentication.js","actions/createUser.js","reducers/userCreation.js","reducers/index.js","components/Header.js","containers/HeaderContainer.js","components/Login.js","containers/LoginContainer.js","components/CreateAccount.js","containers/CreateAccountContainer.js","components/Home.js","components/App.js","containers/Authenticate.js","index.js"],"names":["LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT_COMPLETE","loginStatus","loginUser","credentials","dispatch","type","fetch","method","headers","Content-Type","body","JSON","stringify","then","response","ok","json","validate","localStorage","setItem","token","loginSuccess","username","msg","user","logout","removeItem","userAuthentication","state","arguments","length","undefined","getItem","action","Object","assign","errorMsg","currentUser","CREATEUSER_RESET","CREATEUSER_REQUEST","CREATEUSER_SUCCESS","CREATEUSER_FAIL","userCreationStatus","NONE","IN_PROGRESS","USER_CREATED","FAILED","createUser","containerState","usernameInput","emailInput","passwordInput","passwordFieldsMatch","validEmail","email","password","data","err","createUserFail","userCreation","combineReducers","Header","props","react_default","a","createElement","isLoggedIn","className","onClick","connect","Login","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","bind","assertThisInitialized","_this2","id","placeholder","maxLength","autoComplete","value","onChange","e","setState","target","buttonClass","buttonText","history","push","Redirect","to","React","Component","_state$userAuthentica","status","componentState","CreateAccount","confirmPasswordInput","passwordLongEnough","reset","test","createAccount","_state$userCreation","userInput","Home","App","HeaderContainer","BrowserRouter","Switch","Route","path","component","LoginContainer","CreateAccountContainer","ProtectedComponent","Authenticate","_React$Component","apply","inherits","createClass","key","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","react_redux_es","src_components_App","document","getElementById"],"mappings":"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","file":"static/js/main.d7b3cdee.chunk.js","sourcesContent":["// action types\r\nexport const LOGIN_REQUEST = 'LOGIN_REQUEST';\r\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\r\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\r\nexport const LOGOUT_REQUEST = 'LOGOUT_REQUEST';\r\nexport const LOGOUT_COMPLETE = 'LOGOUT_COMPLETE';\r\n\r\nexport const loginStatus = {\r\n  LOGGED_IN: 'LOGGED_IN',\r\n  LOGGED_OUT: 'LOGGED_OUT',\r\n  IN_PROGRESS: 'IN_PROGRESS'\r\n}\r\n\r\n// action creators\r\nexport function loginUser(credentials) {\r\n  return dispatch => {\r\n    dispatch(requestLogin());\r\n    fetch('/find', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json; charset=UTF-8'\r\n      },\r\n      body: JSON.stringify(credentials)\r\n    }).then(response => {\r\n      if(response.ok) {\r\n        response.json().then(response => {\r\n          if(!response.validate) {\r\n            dispatch(loginFail('User authentication failed.'))\r\n          } else {\r\n            localStorage.setItem('idToken', response.token);\r\n            dispatch(loginSuccess(response.username));\r\n          }\r\n        })\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nexport function requestLogin() {\r\n  return {\r\n    type: LOGIN_REQUEST\r\n  };\r\n}\r\n\r\nexport function loginSuccess(user) {\r\n  return {\r\n    type: LOGIN_SUCCESS,\r\n    user\r\n  }\r\n}\r\n\r\nexport function loginFail(msg) {\r\n  return {\r\n    type: LOGIN_FAIL,\r\n    msg\r\n  }\r\n}\r\n\r\nexport function logout() {\r\n  return dispatch => {\r\n    localStorage.removeItem('idToken');\r\n    dispatch(logoutComplete());\r\n  }\r\n}\r\n\r\nexport function logoutComplete() {\r\n  return {\r\n    type: LOGOUT_COMPLETE\r\n  }\r\n}\r\n\r\n","import {\r\n  loginStatus, \r\n  LOGIN_REQUEST, LOGIN_SUCCESS, LOGIN_FAIL, \r\n  LOGOUT_REQUEST, LOGOUT_COMPLETE\r\n} from '../actions/authenticate';\r\n\r\nconst userAuthentication = \r\n  (state = {loginStatus: localStorage.getItem('idToken') ? \r\n    loginStatus.LOGGED_IN: loginStatus.LOGGED_OUT}, action) => {\r\n      switch(action.type) {\r\n        case LOGIN_REQUEST:\r\n          return Object.assign({}, state, {\r\n            loginStatus: loginStatus.IN_PROGRESS,\r\n            errorMsg: '',\r\n            currentUser: null\r\n          });\r\n        case LOGIN_SUCCESS:\r\n          return Object.assign({}, state, {\r\n            loginStatus: loginStatus.LOGGED_IN,\r\n            errorMsg: '',\r\n            currentUser: action.user\r\n          })\r\n        case LOGIN_FAIL:\r\n          return Object.assign({}, state, {\r\n            loginStatus: loginStatus.LOGGED_OUT,\r\n            errorMsg: action.msg,\r\n            currentUser: null\r\n          })\r\n        case LOGOUT_REQUEST: \r\n          return Object.assign({}, state, {\r\n            loginStatus: loginStatus.IN_PROGRESS\r\n          })\r\n        case LOGOUT_COMPLETE:\r\n          return Object.assign({}, state, {\r\n            loginStatus: loginStatus.LOGGED_OUT,\r\n            errorMsg: '',\r\n            currentUser: null\r\n          })\r\n        default:\r\n          return state;\r\n      }\r\n}\r\n\r\nexport default userAuthentication;","import {loginSuccess} from './authenticate';\r\n\r\n// action types\r\nexport const CREATEUSER_RESET = 'CREATEUSER_RESET';\r\nexport const CREATEUSER_REQUEST = 'CREATEUSER_REQUEST';\r\nexport const CREATEUSER_SUCCESS = 'CREATEUSER_SUCCESS';\r\nexport const CREATEUSER_FAIL = 'CREATEUSER_FAIL';\r\n\r\nexport const userCreationStatus = {\r\n  NONE: 'NONE',\r\n  IN_PROGRESS: 'IN_PROGRESS',\r\n  USER_CREATED: 'USER_CREATED',\r\n  FAILED: 'FAILED'\r\n}\r\n\r\n// action creators\r\nexport function createUserReset() {\r\n  return {\r\n    type: CREATEUSER_RESET\r\n  }\r\n}\r\n\r\nexport function createUser(containerState) {\r\n  return dispatch => {\r\n    let {usernameInput, emailInput, passwordInput, passwordFieldsMatch, validEmail} = containerState;\r\n    if(!(usernameInput.length && emailInput.length && passwordInput.length > 5)) {\r\n      dispatch(createUserFail('All fields are required.'))\r\n    } else if(passwordFieldsMatch && validEmail) {\r\n      dispatch(createUserRequest());\r\n      fetch('/createUser', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json; charset=UTF-8'\r\n        },\r\n        body: JSON.stringify({\r\n          username: usernameInput,\r\n          email: emailInput,\r\n          password: passwordInput\r\n        })\r\n      }).then(response => {\r\n        if(response.ok) {\r\n          response.json().then(data => {\r\n            if(data.err) {\r\n              dispatch(createUserFail(data.err))\r\n            } else {\r\n              if(!data.validate) {\r\n                dispatch(createUserFail('Database error.'))\r\n              } else {\r\n                localStorage.setItem('idToken', data.token)\r\n                dispatch(loginSuccess(data.username));\r\n                dispatch(createUserSuccess());\r\n              }\r\n            }\r\n          })\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\nfunction createUserRequest() {\r\n  return {\r\n    type: CREATEUSER_REQUEST,\r\n    userCreationStatus: userCreationStatus.IN_PROGRESS\r\n  }\r\n}\r\n\r\nfunction createUserFail(msg) {\r\n  return {\r\n    type: CREATEUSER_FAIL,\r\n    msg\r\n  }\r\n}\r\n\r\nfunction createUserSuccess() {\r\n  return {\r\n    type: CREATEUSER_SUCCESS\r\n  }\r\n}","import {\r\n  userCreationStatus, CREATEUSER_RESET, CREATEUSER_REQUEST, CREATEUSER_SUCCESS, CREATEUSER_FAIL\r\n} from '../actions/createUser';\r\n\r\nconst userCreation = (state = {\r\n  userCreationStatus: userCreationStatus.NONE\r\n}, action) => {\r\n  switch(action.type) {\r\n    case CREATEUSER_RESET:\r\n      return {\r\n        userCreationStatus: userCreationStatus.NONE,\r\n        errorMsg: ''\r\n      }\r\n    case CREATEUSER_REQUEST:\r\n      return {\r\n        userCreationStatus: userCreationStatus.IN_PROGRESS,\r\n        errorMsg: ''\r\n      }\r\n    case CREATEUSER_SUCCESS:\r\n      return {\r\n        userCreationStatus: userCreationStatus.USER_CREATED\r\n      }\r\n    case CREATEUSER_FAIL:\r\n      return {\r\n        userCreationStatus: userCreationStatus.FAILED,\r\n        errorMsg: action.msg\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default userCreation;","import {combineReducers} from 'redux';\r\nimport userAuthentication from './userAuthentication';\r\nimport userCreation from './userCreation';\r\n\r\nexport default combineReducers({\r\n  userAuthentication,\r\n  userCreation\r\n})","import React from 'react';\r\n\r\nconst Header = props => {\r\n  return (\r\n    <header>\r\n      {props.isLoggedIn && \r\n        <div>\r\n          {props.currentUser && \r\n            <span>Welcome, {props.currentUser}.  </span>}\r\n          <span className='button' onClick={() => props.logout()}>Logout</span>\r\n        </div>\r\n      }\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header;","import {connect} from 'react-redux';\r\nimport Header from '../components/Header';\r\nimport {logout, loginStatus} from '../actions/authenticate';\r\n\r\nconst mapStateToProps = state => {\r\n  const isLoggedIn = state.userAuthentication.loginStatus === loginStatus.LOGGED_IN;\r\n  if(isLoggedIn && state.userAuthentication.currentUser) {\r\n    return {\r\n      isLoggedIn,\r\n      currentUser: state.userAuthentication.currentUser\r\n    };\r\n  }\r\n  return {isLoggedIn};\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    logout: () => {\r\n      dispatch(logout());\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Header);","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {loginStatus} from '../actions/authenticate';\r\nimport './Login.css';\r\n\r\nclass Login extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      usernameInput: '', \r\n      passwordInput: ''\r\n    }\r\n    this.loginUser = this.props.loginUser.bind(this);\r\n  }\r\n  render() {\r\n    return (\r\n      <section id='login'>\r\n        <form>\r\n          <input type='text' placeholder='User Email' maxLength='35' autoComplete='email'\r\n            value={this.state.usernameInput}\r\n            onChange={e => this.setState({usernameInput: e.target.value})}>\r\n          </input>\r\n          <input type='password' placeholder='Password' maxLength='14' autoComplete='current-password'\r\n            value={this.state.passwordInput}\r\n            onChange={e => this.setState({passwordInput: e.target.value})}>\r\n          </input>\r\n          <div>\r\n            <span className='button' onClick={e => this.loginUser(this.state)}>\r\n              <span className={this.props.buttonClass}>{this.props.buttonText}</span>\r\n            </span>\r\n            <span className='button' onClick={e => this.props.history.push('/signup')}>Create Account</span>\r\n          </div>\r\n        </form>\r\n        {this.props.loginStatus === loginStatus.LOGGED_IN &&\r\n          <Redirect to='/home' />\r\n        }\r\n        {this.props.errorMsg &&\r\n          <div className='msg'>{this.props.errorMsg}</div>\r\n        }\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Login;","import {connect} from 'react-redux';\r\nimport Login from '../components/Login';\r\nimport {loginUser, loginStatus as status} from '../actions/authenticate';\r\n\r\nconst mapStateToProps = state => {\r\n  const {loginStatus, errorMsg} = state.userAuthentication;\r\n  const buttonText = loginStatus === status.IN_PROGRESS ? '◌' : 'Login';\r\n\r\n  return {\r\n    loginStatus,\r\n    errorMsg,\r\n    buttonText,\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    loginUser: (componentState) => {\r\n      if(componentState.usernameInput && componentState.passwordInput) {\r\n        dispatch(loginUser({\r\n          email: componentState.usernameInput, \r\n          password: componentState.passwordInput\r\n        }));\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Login);","import React from 'react';\r\nimport {userCreationStatus} from '../actions/createUser';\r\nimport './Login.css';\r\n\r\nclass CreateAccount extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      usernameInput: '',\r\n      emailInput: '',\r\n      passwordInput: '',\r\n      confirmPasswordInput: '',\r\n      passwordFieldsMatch: true,\r\n      passwordLongEnough: true,\r\n      validEmail: true\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.reset();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    if(this.props.userCreationStatus === userCreationStatus.USER_CREATED) {\r\n      this.props.history.push('/signin');\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <section id='createAccount'>\r\n        <div>Welcome! Please complete all fields.</div>\r\n        <form>\r\n          <input type='text' placeholder='Your name' maxLength='20' autoComplete='fname'\r\n            value={this.state.usernameInput}\r\n            onChange={e => this.setState({usernameInput: e.target.value})}>\r\n          </input>\r\n          <input type='text' placeholder='Email Address' maxLength='35' autoComplete='email'\r\n            value={this.state.emailInput}\r\n            onChange={e => {\r\n              let regex = /.+@.+\\..+/;\r\n              this.setState({\r\n                emailInput: e.target.value,\r\n                validEmail: regex.test(e.target.value)\r\n              })\r\n            }}>\r\n          </input>\r\n          <input type='password' placeholder='Password' maxLength='12' autoComplete='new-password'\r\n            value={this.state.passwordInput}\r\n            onChange={e => {\r\n              this.setState({\r\n                passwordInput: e.target.value,\r\n                passwordFieldsMatch: e.target.value === this.state.confirmPasswordInput,\r\n                passwordLongEnough: !e.target.value.length || e.target.value.length > 5\r\n              })\r\n            }}>\r\n          </input>\r\n          <input type='password' placeholder='Confirm Password' maxLength='12' autoComplete='new-password'\r\n            value={this.state.confirmPasswordInput}\r\n            onChange={e => {\r\n              this.setState({\r\n                confirmPasswordInput: e.target.value,\r\n                passwordFieldsMatch: e.target.value === this.state.passwordInput\r\n              })\r\n            }}>\r\n          </input>\r\n          <div className='msg'>\r\n            {!this.state.passwordFieldsMatch && (\r\n              <span>Password fields must match.</span>\r\n            )}\r\n            {!this.state.passwordLongEnough && (\r\n              <span>Password must be at least 6 characters long.</span>\r\n            )}\r\n            {!this.state.validEmail && (\r\n              <span>Please enter a valid email address.</span>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <span className='button' onClick={e => this.props.createAccount(this.state)}>{this.props.buttonText}</span>\r\n            <span className='button' onClick={e => this.props.history.push('/signin')}>Back to Login</span>\r\n          </div>\r\n        </form>\r\n        {this.props.errorMsg && (\r\n          <div className='msg'>{this.props.errorMsg}</div>\r\n        )}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CreateAccount;","import {connect} from 'react-redux';\r\nimport CreateAccount from '../components/CreateAccount';\r\nimport {createUser, createUserReset, userCreationStatus as status} from '../actions/createUser';\r\n\r\nconst mapStateToProps = state => {\r\n  const {userCreationStatus, errorMsg} = state.userCreation;\r\n  const buttonText = userCreationStatus === status.IN_PROGRESS ? '◌' : 'Create Account';\r\n  return {\r\n    userCreationStatus,\r\n    errorMsg,\r\n    buttonText\r\n  };\r\n} \r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    createAccount: userInput => {\r\n      dispatch(createUser(userInput));\r\n    },\r\n    reset: () => {\r\n      dispatch(createUserReset());\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CreateAccount);","import React from 'react';\r\n\r\nconst Home = (props) => {\r\n  return (\r\n    <div>This is the home page</div>\r\n  )\r\n}\r\n\r\nexport default Home;","import React from 'react';\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\r\nimport HeaderContainer from '../containers/HeaderContainer';\r\nimport LoginContainer from '../containers/LoginContainer';\r\nimport CreateAccountContainer from '../containers/CreateAccountContainer';\r\nimport Authenticate from '../containers/Authenticate';\r\nimport Home from '../components/Home';\r\nimport './App.css';\r\n\r\nclass App extends React.Component {\r\n  render() {\r\n    return (\r\n      <div>\r\n        <HeaderContainer />\r\n        <main>\r\n          <Router>\r\n            <Switch>\r\n              <Route path='/signin' component={LoginContainer} />\r\n              <Route path='/signup' component={CreateAccountContainer} />\r\n              <Route path='/' component={Authenticate(Home)} />\r\n            </Switch>\r\n          </Router>\r\n        </main>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {loginStatus} from '../actions/authenticate';\r\n\r\nexport default function(ProtectedComponent) {\r\n  class Authenticate extends React.Component {\r\n    render() {\r\n      return this.props.loginStatus === loginStatus.LOGGED_IN ?\r\n        <ProtectedComponent /> : <Redirect to='/signin' />;\r\n    }\r\n  }\r\n\r\n  const mapStateToProps = state => {\r\n    return {\r\n      loginStatus: state.userAuthentication.loginStatus\r\n    }\r\n  }\r\n\r\n  const mapDispatchToProps = dispatch => {\r\n    return {};\r\n  };\r\n\r\n  return connect(mapStateToProps, mapDispatchToProps)(Authenticate);\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport thunk from 'redux-thunk';\r\nimport {Provider} from 'react-redux';\r\nimport {createStore, applyMiddleware} from 'redux';\r\nimport rootReducer from './reducers';\r\nimport App from './components/App';\r\n\r\nconst store = createStore(rootReducer, applyMiddleware(thunk));\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>, \r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}