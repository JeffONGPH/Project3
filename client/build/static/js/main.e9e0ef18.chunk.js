(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(39)},34:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(20),s=n.n(u),o=n(21),c=n(5),i=n(6),l="LOGIN_REQUEST",p="LOGIN_SUCCESS",g="LOGIN_FAIL",m="LOGOUT_COMPLETE",h="LOGGED_IN",d="LOGGED_OUT",O="IN_PROGRESS";function b(e){return function(t){t({type:l}),fetch("/find",{method:"POST",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)}).then(function(e){e.ok&&e.json().then(function(e){var n;e.validate?(localStorage.setItem("idToken",e.token),t((n=e.username,{type:p,user:n}))):t({type:g,msg:"User authentication failed."})})})}}function f(){return function(e){localStorage.removeItem("idToken"),e({type:m})}}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loginStatus:localStorage.getItem("idToken")?h:d},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object.assign({},e,{loginStatus:O,errorMsg:"",currentUser:null});case p:return Object.assign({},e,{loginStatus:h,errorMsg:"",currentUser:t.user});case g:return Object.assign({},e,{loginStatus:d,errorMsg:t.msg,currentUser:null});case"LOGOUT_REQUEST":return Object.assign({},e,{loginStatus:O});case m:return Object.assign({},e,{loginStatus:d,errorMsg:"",currentUser:null});default:return e}},j=Object(i.c)({userAuthentication:E}),S=n(7),v=n(8),I=n(10),U=n(9),y=n(11),w=n(41),T=n(43),L=n(42),C=function(e){return a.a.createElement("header",null,e.isLoggedIn&&a.a.createElement("div",null,e.currentUser&&a.a.createElement("span",null,"Welcome, ",e.currentUser,".  "),a.a.createElement("span",{className:"button",onClick:function(){return e.logout()}},"Logout")))},k=Object(c.b)(function(e){var t=e.userAuthentication.loginStatus===h;return t&&e.userAuthentication.currentUser?{isLoggedIn:t,currentUser:e.userAuthentication.currentUser}:{isLoggedIn:t}},function(e){return{logout:function(){e(f())}}})(C),N=n(13),G=n(40),M=(n(34),function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(I.a)(this,Object(U.a)(t).call(this,e))).state={usernameInput:"",passwordInput:""},n.loginUser=n.props.loginUser.bind(Object(N.a)(Object(N.a)(n))),n}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("section",{id:"login"},a.a.createElement("form",null,a.a.createElement("input",{type:"text",placeholder:"User Email",value:this.state.usernameInput,onChange:function(t){return e.setState({usernameInput:t.target.value})}}),a.a.createElement("input",{type:"password",placeholder:"Password",value:this.state.passwordInput,onChange:function(t){return e.setState({passwordInput:t.target.value})}}),a.a.createElement("div",null,a.a.createElement("span",{className:"button",onClick:function(t){return e.loginUser(e.state)}},a.a.createElement("span",{className:this.props.buttonClass},this.props.buttonText)),a.a.createElement("span",{className:"button"},"Create Account"))),this.props.loginStatus===h&&a.a.createElement(G.a,{to:"/home"}),this.props.errorMsg&&a.a.createElement("div",{className:"msg"},this.props.errorMsg))}}]),t}(a.a.Component)),A=Object(c.b)(function(e){var t=e.userAuthentication,n=t.loginStatus;return{loginStatus:n,errorMsg:t.errorMsg,buttonText:n===O?"\u25cc":"Login"}},function(e){return{loginUser:function(t){t.usernameInput&&t.passwordInput&&e(b({username:t.usernameInput,password:t.passwordInput}))}}})(M),_=function(e){return a.a.createElement("div",null,"This is the home page")},x=(n(37),function(e){function t(){return Object(S.a)(this,t),Object(I.a)(this,Object(U.a)(t).apply(this,arguments))}return Object(y.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(k,null),a.a.createElement("main",null,a.a.createElement(w.a,null,a.a.createElement(T.a,null,a.a.createElement(L.a,{path:"/signin",component:A}),a.a.createElement(L.a,{path:"/",component:function(e){var t=function(t){function n(){return Object(S.a)(this,n),Object(I.a)(this,Object(U.a)(n).apply(this,arguments))}return Object(y.a)(n,t),Object(v.a)(n,[{key:"render",value:function(){return this.props.loginStatus===h?a.a.createElement(e,null):a.a.createElement(G.a,{to:"/signin"})}}]),n}(a.a.Component);return Object(c.b)(function(e){return{loginStatus:e.userAuthentication.loginStatus}},function(e){return{}})(t)}(_)})))))}}]),t}(a.a.Component)),P=Object(i.d)(j,Object(i.a)(o.a));s.a.render(a.a.createElement(c.a,{store:P},a.a.createElement(x,null)),document.getElementById("root"))}},[[24,2,1]]]);
//# sourceMappingURL=main.e9e0ef18.chunk.js.map